
## 任务主题：小蛇

### 任务：小蛇实体初始化

**目标：** 创建长度为3节的小蛇，每节为20×20像素的蓝色圆角方块，初始位置在游戏区域上方，方向向下。

**核心执行要点：**
- 实现为独立模块，位于独立py文件中
- 定义小蛇数据结构（如数组存储每节坐标）。
- 设置初始位置（例如头部Y=0附近，X居中）。
- 设置初始方向为向下。
- 渲染小蛇身体，确保节与节之间无间隙，视觉连续。

**非核心执行要点：**
- 支持未来动态调整小蛇长度。
- 提供小蛇颜色、尺寸的可配置参数。

**验收标准：**
- 小蛇总长度为3节，每节20×20像素，蓝色圆角方块。
- 小蛇初始位置在游戏区域上方（Y坐标接近0）。
- 小蛇初始方向向下。
- 小蛇身体各节紧密相连，无视觉间隙。

**依赖：** 游戏画布渲染可用。

---

### 任务：小蛇自动移动系统

**目标：** 实现小蛇以恒定速度（20像素/秒）平滑移动，身体各节跟随头部路径。

**核心执行要点：**
- 基于时间增量（delta time）计算移动距离，确保速度不受帧率影响。
- 每帧更新小蛇头部坐标，身体各节依次跟随前一段的位置。
- 移动方向由方向变量决定。

**非核心执行要点：**
- 提供速度可配置接口。
- 优化移动算法，避免因浮点数误差导致的位置抖动。

**验收标准：**
- 小蛇以恒定20像素/秒的速度平滑移动。
- 身体各节正确跟随头部路径，无断裂或跳跃。
- 在低帧率（如30 FPS）下移动速度仍保持恒定。

**依赖：** 小蛇实体初始化。

---

### 任务：实现键盘方向控制

**目标：** 通过键盘上、下、左、右键改变小蛇移动方向，禁止180度立即掉头，相同方向按键可加速。

**核心执行要点：**
- 监听键盘方向键按下事件。
- 根据按键更新小蛇移动方向（上、下、左、右），但禁止直接反向（例如向上时按向下无效）。
- 若按下的方向与当前方向相同，则小蛇沿该方向额外移动20像素（加速一次）。
- 确保按键响应延迟低于100毫秒。

**非核心执行要点：**
- 支持同时按下多个键的防冲突处理。

**验收标准：**
- 按下上/下/左/右键，小蛇方向按规则改变。
- 不允许180度立即掉头（例如向上时按向下，方向不变）。
- 同方向按键触发加速，小蛇额外移动20像素。
- 按键响应延迟实测低于100毫秒。

**依赖：** 小蛇自动移动系统。

---